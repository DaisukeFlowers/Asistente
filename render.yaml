services:
  - name: schedulink-api
    type: web
    env: node
    plan: starter
  # Adjusted to actual backend folder
  rootDir: backend
    buildCommand: npm ci && npm run build
    startCommand: npm start
    autoDeploy: true
    healthCheckPath: /health
    envVars:
      - key: ENFORCE_HTTPS
        value: "true"
      - key: CSP_STRICT
        value: "true"
      - key: PRINT_SECRET_FINGERPRINTS
        value: "false"
      # Secrets not stored here; add via dashboard or API scripts.

  - name: schedulink-app
    type: static
    rootDir: testapp
    buildCommand: npm ci && npm run build
    publishPath: dist
    autoDeploy: true
    envVars:
      - key: VITE_GOOGLE_CLIENT_ID
        value: "placeholder"
