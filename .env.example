#############################################
# Diyartec Backend Environment Example       #
# Copy (never commit real secrets)           #
#############################################

# Minimal Render Test Deployment Required Subset (placeholders acceptable):
# CLIENT_ID, CLIENT_SECRET, REDIRECT_URI, FRONTEND_BASE_URL, SECRETKEY,
# REFRESHTOKENENCRYPTIONKEY, DATABASE_URL, REDIS_URL
# (Others can remain defaults or unset for initial visibility deploy.)

# =============================
# 1. Core Required (All Env)   
# =============================
CLIENT_ID=your_google_oauth_client_id
CLIENT_SECRET=replace_with_secret
REDIRECT_URI=http://localhost:3000/api/auth/google/callback
FRONTEND_BASE_URL=http://localhost:5173
N8N_WEBHOOK_URL=http://localhost:5678/webhook/google-oauth
REDIS_URL=redis://localhost:6379
DATABASE_URL=postgresql://schedulink_data_user:replace_with_password@dpg-d3c3fammcj7s73d7rc9g-a/schedulink_data
ADMIN_API_KEY=replace_with_admin_key
SUPPORT_CONTACT_EMAIL=support@example.com
LOG_FORWARD_WEBHOOK=
SECRETKEY=dev_replace_me_with_64_hex_chars   # >=64 hex chars before production
REFRESHTOKENENCRYPTIONKEY=dev_replace_me_with_64_hex_chars  # >=64 hex chars; rotate with PREVIOUS variable

# =============================
# 2. Security & Policy Toggles
# (Production recommended values
# shown; adjust per environment)
# =============================
ENFORCEHTTPS=false             # true in staging/prod
CSPSTRICT=false                # true in prod (staging may relax)
PRINT_SECRET_FINGERPRINTS=true # false in prod
HSTSENABLED=false              # true in prod after domain/TLS stable
CSRFPROTECTION_ENABLED=true
SECURITYHEADERSENABLED=true
ALLOW_PII_LOGGING=false

# =============================
# 3. Rate Limiting & Sessions
# =============================
RATELIMIT_ENABLED=false        # true in prod
RATE_LIMIT_AUTH_BURST=5
RATE_LIMIT_AUTH_REFILL_PER_MINUTE=5
RATE_LIMIT_API_BURST=60
RATE_LIMIT_API_REFILL_PER_MINUTE=60
SESSION_IDLE_MAX_MINUTES=30
SESSION_ABSOLUTE_MAX_HOURS=24
SESSION_ROTATE_MINUTES=15
ACCESS_TOKEN_REFRESH_SKEW_SECONDS=60

# =============================
# 4. CORS
# =============================
CORS_ALLOWED_ORIGINS=
CORS_ALLOW_CREDENTIALS=true

# =============================
# 5. Legal Versions
# =============================
PRIVACY_POLICY_VERSION=PP-1.0.0
TERMS_VERSION=TOS-1.0.0

# =============================
# 6. Optional Rotation Support
# =============================
# REFRESHTOKENENCRYPTIONKEY_PREVIOUS=

# =============================
# 7. Discouraged Overrides
# =============================
# ALLOW_INMEMORY_SESSION_IN_PROD=true
# ALLOW_HEALTH_PASS_WITHOUT_REDIS=true

# =============================
# 8. Runtime Ports (dev only)
# =============================
BACKEND_PORT=3000

# NOTE: Production & staging secrets are managed via Render dashboard; do not create .env.production in repo.

